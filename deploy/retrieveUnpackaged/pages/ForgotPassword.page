<apex:page id="forgotPassword" showHeader="false" controller="ForgotPasswordController" title="{!$Label.site.forgot_password}">
 <script type="text/javascript">
 
	function checkUserName()
	{		
    	//var x=document.forms["j_id0:frmMain"]["j_id0:frmMain:username"].value;
    	var y = document.getElementById('forgotPassword:frmMain:username').value;
   		var atpos = y.indexOf("@");
   	    var dotpos = y.lastIndexOf(".");
        var prmpos = y.lastIndexOf(".raxprm");
        if (atpos<1 || dotpos<atpos+2 || dotpos+2>=y.length || prmpos<1)
      	  {
     	  alert("Username must be in the format of 'name@domain.com.raxprm'.");
      	}
      	else
      	{
      	 // alert("hello WORLD");
      	  forgotpw();
      	}
	}




 </script>
    <apex:define name="body">
      <center>
        <apex:panelGrid bgcolor="white" columns="1"> 
          <br/>
          <br/>
          <apex:panelGrid width="758" cellpadding="0" cellspacing="0" bgcolor="white" columns="1" styleClass="topPanelContainer"> 
            <br/>
            <apex:outputPanel layout="block" styleClass="topPanel">
            
            <apex:panelGrid width="500"  cellpadding="1" cellspacing="0" bgcolor="#5F5F5F"  border="2"> 
                  <apex:outputText style="color:white" value="{!$Label.site.enter_password}"/>
            </apex:panelGrid>
              <apex:panelGrid width="500" cellpadding="1" cellspacing="0" bgcolor="white" columns="2" border="2"> 
                <apex:panelGroup >
                  
                  <apex:form id="frmMain" forceSSL="true" onSubmit="return checkUserName()">
                   	<apex:actionFunction name="forgotpw" action="{!forgotPassword}"></apex:actionFunction>
                    <center><apex:panelGrid columns="3" style="margin-top:1em;" width="100px" >
                      <apex:outputLabel style="font-style:strong" value="{!$Label.site.username}" for="username"/>
                      <apex:inputText required="true" id="username" value="{!username}"/>
                      <apex:commandButton id="submit" value="{!$Label.site.submit}" action="{!forgotPassword}"/>
                    </apex:panelGrid></center>
                  </apex:form>                  
                  <br/>
                </apex:panelGroup>
              </apex:panelGrid> 
             </apex:outputPanel>
          </apex:panelGrid> 
       </apex:panelGrid>
      </center>
      <br/>
    </apex:define>
</apex:page>